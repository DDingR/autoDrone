# installation

- 환경의 구현은 unity로 되어 있습니다.
- unity를 설치하여 사용하여야 합니다
- 버전은 LTS버전인 2020.3.33f1를 사용했습니다.
- 라이센스가 필요한데 개인 라이센스를 사용할 수 있는 걸로 알고 있습니다.
- 필요하시면 제 개인 학생 계정 드리도록 하겠습니다
- 일단 환경에 대한 내용만 요구하셔서 유니티 관련 설명만 써넣겠습니다. (0430 기준)

## 0. 파일에 대하여

- 유니티를 이용하여 환경을 만들때 모든 모델링이나 환경에 대한 설명, 스크립트 등이 들어가 있는 프로젝트 폴더가 있습니다.  
그 폴더는 ###과 같습니다.
- 그 폴더을 이용하여 유니티 내에서 빌드 할 수 있습니다.
- 그러면 빌드된 파일(실행파일과 같이)이 나오는데 OS에 따라 반환되는 확장자가 다릅니다.  
윈도우로 실행해 보실거라 생각하여 .exe파일로 빌드하였습니다.

## 1. Unity

- 유니티의 설치는 단순히 유니티 사이트에서 받으시면 됩니다. (버전은 2020.3.33f1입니다.)  
https://unity3d.com/kr/get-unity/download
- 그 다음 유니티 허브에서 프로젝트 추가를 이용하여 프로젝트 폴더를 여시면 됩니다.

- 유니티는 게임 오브젝트에 대한 컴포넌트를 gui상에서도 추가할 수 있지만 원하는 바로 구현하기 위해서는 스크립팅이 필수 있니다.
- 아래 url은 공식 docs입니다. (버전에 주의 하셔야 합니다.)  
https://docs.unity3d.com/Manual/CreatingAndUsingScripts.html
- ML-Agents(강화학습)과 관련된 스크립트는 다음 항목에 있습니다.
- 본 프로젝트의 메인 스크립트는 ```autoDrone/Assets/agent.cs```이고 에이전트 역의 agent 게임 오브젝트와 연결되어 있습니다.
- 해당 스크립트의 핵심 코드는 다음과 같습니다  
1. Raycast  
   - 특정 방향으로 Ray를 발사하여 닿는 물체를 검출합니다.  
   - Lidar나 UWB에 사용할 수 있습니다.

2. CameraSensor
   - 아직 구현하지 않았습니다.

## 2. ML-Agents

> mlagent는 유니티에서 제공하는 유니티 프로젝트를 강화학습의 시뮬레이션 환경으로 사용할 수 있도록 해주는 툴입니다.  
> 이를 통해서 여러가지 task에 해당하는 시뮬레이션을 만들어 학습시켜보거나, 학습 가능성을 알 수 있을 것으로 생각합니다.


- 설치와 docs, examples 등 모든 것은 아래의 git에 있습니다. (Release 19 버전을 사용하였습니다.)  
https://github.com/Unity-Technologies/ml-agents
- 위의 git에 있는 docs를 이용하여 간단한 예제와 직접 환경을 만들 수 있도록 가이드가 존재합니다.
- mlagent는 pip로 설치하여 ```mlagents-learn``` 명령어를 사용해 자체 강화학습 알고리즘 (SAC, PPO)를 사용할 수 있습니다.
- 그 외 mlagent-envirnoment python-API를 이용하여 환경을 reset하고 observed된 state와 reward를 가져오고, action을 환경에 입력하여 환경을 step시키는 등을 할 수 있습니다.
- 이를 통하여 자체 작성한 강화학습 알고리즘을 이용하여 학습 및 실행을 할 수 있습니다.
- 관련된 코드 또한 ```train_src```에 올려 두었습니다.


